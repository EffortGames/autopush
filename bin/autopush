#!/usr/bin/env bash
#
# Stages the local directory and commits using an autogenerated message.
# Fetches, rebases and pushes the current branch to the remote.
# Supports remote `origin` only
#
set -e -o pipefail

autocommit

branch=$(git rev-parse --abbrev-ref HEAD)
git fetch origin
git rebase origin/"${branch}"
git push origin "${branch}"
